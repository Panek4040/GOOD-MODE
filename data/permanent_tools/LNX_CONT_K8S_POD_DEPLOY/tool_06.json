{
  "name": "kubectl_logs_exec_pod_diagnostics",
  "description": "View pod logs and execute commands inside containers for debugging",
  "pattern": "kubectl.*logs|kubectl.*exec|pod.*logs|debug.*pod",
  "parameters": [
    "pod_name",
    "namespace",
    "container_name"
  ],
  "sequence": [
    {
      "action": {
        "type": "system_command",
        "tool": "shell",
        "operation": "run",
        "command": "kubectl",
        "args": [
          "get",
          "pod",
          "{{pod_name}}",
          "-n",
          "{{namespace}}",
          "-o",
          "jsonpath={.status.phase}"
        ]
      },
      "expected_output": {
        "type": "string",
        "example": "Running"
      }
    },
    {
      "action": {
        "type": "system_command",
        "tool": "shell",
        "operation": "run",
        "command": "kubectl",
        "args": [
          "logs",
          "{{pod_name}}",
          "-n",
          "{{namespace}}",
          "-c",
          "{{container_name}}",
          "--tail=50",
          "--timestamps"
        ]
      },
      "expected_output": {
        "type": "string",
        "example": "2025-11-18T14:32:15.123456789Z [INFO] Application starting on port 8080\n2025-11-18T14:32:16.234567890Z [INFO] Database connection established\n2025-11-18T14:32:17.345678901Z [INFO] Redis cache connected\n2025-11-18T14:32:18.456789012Z [INFO] Server ready to accept connections"
      }
    },
    {
      "action": {
        "type": "system_command",
        "tool": "shell",
        "operation": "run",
        "command": "kubectl",
        "args": [
          "exec",
          "{{pod_name}}",
          "-n",
          "{{namespace}}",
          "-c",
          "{{container_name}}",
          "--",
          "whoami"
        ]
      },
      "expected_output": {
        "type": "string",
        "example": "root"
      }
    },
    {
      "action": {
        "type": "system_command",
        "tool": "shell",
        "operation": "run",
        "command": "kubectl",
        "args": [
          "exec",
          "{{pod_name}}",
          "-n",
          "{{namespace}}",
          "-c",
          "{{container_name}}",
          "--",
          "ps",
          "aux"
        ]
      },
      "expected_output": {
        "type": "string",
        "example": "USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND\nroot         1  0.2  1.5 789012 98765 ?        Ssl  14:32   0:03 /app/server\nroot        23  0.0  0.1  12345  6789 ?        S    14:35   0:00 nginx: worker process"
      }
    },
    {
      "action": {
        "type": "system_command",
        "tool": "shell",
        "operation": "run",
        "command": "kubectl",
        "args": [
          "exec",
          "{{pod_name}}",
          "-n",
          "{{namespace}}",
          "-c",
          "{{container_name}}",
          "--",
          "env"
        ]
      },
      "expected_output": {
        "type": "string",
        "example": "PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\nHOSTNAME={{pod_name}}\nAPP_ENV=production\nDB_HOST=postgres-service\nREDIS_HOST=redis-service\nKUBERNETES_SERVICE_HOST=10.96.0.1"
      }
    }
  ],
  "stats": {
    "uses": 0,
    "successes": 0,
    "failures": 0,
    "success_rate": 0.0
  },
  "created_by": "neural_mesh_v5.2_generator"
}
