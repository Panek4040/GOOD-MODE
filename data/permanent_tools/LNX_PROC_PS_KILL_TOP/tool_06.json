{
  "name": "pgrep_find_process_by_pattern",
  "description": "Find process IDs by name pattern with pgrep",
  "pattern": "pgrep|find.*pid|search.*process",
  "parameters": [
    "pattern",
    "user"
  ],
  "sequence": [
    {
      "action": {
        "type": "system_command",
        "tool": "shell",
        "operation": "run",
        "command": "pgrep",
        "args": [
          "-a",
          "{{pattern}}"
        ]
      },
      "expected_output": {
        "type": "string",
        "example": "1234 nginx: master process /usr/sbin/nginx\n5678 nginx: worker process\n9012 nginx: worker process"
      }
    },
    {
      "action": {
        "type": "system_command",
        "tool": "shell",
        "operation": "run",
        "command": "pgrep",
        "args": [
          "-u",
          "{{user}}",
          "{{pattern}}"
        ]
      },
      "expected_output": {
        "type": "string",
        "example": "5678\n9012"
      }
    },
    {
      "action": {
        "type": "system_command",
        "tool": "shell",
        "operation": "run",
        "command": "bash",
        "args": [
          "-c",
          "pgrep -u {{user}} {{pattern}} | xargs ps -p"
        ]
      },
      "expected_output": {
        "type": "string",
        "example": "  PID TTY      STAT   TIME COMMAND\n 5678 ?        S      0:05 nginx: worker process\n 9012 ?        S      0:04 nginx: worker process"
      }
    },
    {
      "action": {
        "type": "system_command",
        "tool": "shell",
        "operation": "run",
        "command": "pgrep",
        "args": [
          "-c",
          "{{pattern}}"
        ]
      },
      "expected_output": {
        "type": "string",
        "example": "3"
      }
    }
  ],
  "stats": {
    "uses": 0,
    "successes": 0,
    "failures": 0,
    "success_rate": 0.0
  },
  "created_by": "neural_mesh_v5.2_generator"
}
