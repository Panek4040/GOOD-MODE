{
  "name": "disk_usage_summary",
  "description": "Generate disk usage summary for directory with human-readable sizes",
  "pattern": "disk.*usage|space.*used|du.*summary",
  "parameters": ["path", "depth"],
  "sequence": [
    {
      "action": {
        "type": "system_command",
        "tool": "shell",
        "operation": "run",
        "command": "du",
        "args": ["-h", "--max-depth={{depth}}", "{{path}}"]
      },
      "expected_output": {
        "type": "string",
        "example": "4.0K\t/var/www/html/css\n8.0K\t/var/www/html/js\n256K\t/var/www/html/images\n512K\t/var/www/html\n512K\t/var/www"
      }
    },
    {
      "action": {
        "type": "system_command",
        "tool": "shell",
        "operation": "run",
        "command": "bash",
        "args": ["-c", "du -h --max-depth={{depth}} '{{path}}' | sort -rh"]
      },
      "expected_output": {
        "type": "string",
        "example": "512K\t/var/www\n512K\t/var/www/html\n256K\t/var/www/html/images\n8.0K\t/var/www/html/js\n4.0K\t/var/www/html/css"
      }
    },
    {
      "action": {
        "type": "system_command",
        "tool": "shell",
        "operation": "run",
        "command": "bash",
        "args": ["-c", "du -sh '{{path}}'/*"]
      },
      "expected_output": {
        "type": "string",
        "example": "512K\t/var/www/html\n128K\t/var/www/logs\n64K\t/var/www/config"
      }
    },
    {
      "action": {
        "type": "system_command",
        "tool": "shell",
        "operation": "run",
        "command": "bash",
        "args": ["-c", "du -b --max-depth={{depth}} '{{path}}' | sort -rn | numfmt --to=iec"]
      },
      "expected_output": {
        "type": "string",
        "example": "512K\t/var/www\n512K\t/var/www/html\n256K\t/var/www/html/images\n8.0K\t/var/www/html/js\n4.0K\t/var/www/html/css"
      }
    }
  ],
  "stats": {
    "uses": 0,
    "successes": 0,
    "failures": 0,
    "success_rate": 0.0
  },
  "created_by": "claude_generated"
}
