{
  "name": "top_htop_realtime_process_monitor",
  "description": "Monitor processes in real-time, CPU, memory usage with top and htop interactive tools",
  "pattern": "top.*processes|htop.*monitor|realtime.*cpu|process.*memory",
  "parameters": [
    "sort_by",
    "user"
  ],
  "sequence": [
    {
      "action": {
        "type": "system_command",
        "tool": "shell",
        "operation": "run",
        "command": "bash",
        "args": [
          "-c",
          "top -b -n 1 | head -20"
        ]
      },
      "expected_output": {
        "type": "string",
        "example": "top - 14:23:45 up 23 days,  3:45,  2 users,  load average: 1.23, 1.45, 1.67\nTasks: 234 total,   2 running, 232 sleeping,   0 stopped,   0 zombie\n%Cpu(s): 12.3 us,  3.2 sy,  0.0 ni, 83.5 id,  0.8 wa,  0.0 hi,  0.2 si,  0.0 st"
      }
    },
    {
      "action": {
        "type": "system_command",
        "tool": "shell",
        "operation": "run",
        "command": "bash",
        "args": [
          "-c",
          "top -b -n 1 -o %CPU | grep -A 10 PID"
        ]
      },
      "expected_output": {
        "type": "string",
        "example": "PID USER      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND\n1234 www-data  20   0  456789  78901  12345 R  45.2   8.3   123:45 nginx"
      }
    },
    {
      "action": {
        "type": "system_command",
        "tool": "shell",
        "operation": "run",
        "command": "bash",
        "args": [
          "-c",
          "top -b -n 1 -o %MEM | head -15"
        ]
      },
      "expected_output": {
        "type": "string",
        "example": "Processes sorted by memory: postgres using 2.3GB, mysql 1.8GB"
      }
    },
    {
      "action": {
        "type": "system_command",
        "tool": "shell",
        "operation": "run",
        "command": "bash",
        "args": [
          "-c",
          "top -b -n 2 -d 1 -u {{user}} | tail -10"
        ]
      },
      "expected_output": {
        "type": "string",
        "example": "User {{user}} processes: 12 total, 234MB memory, 5.2% CPU"
      }
    },
    {
      "action": {
        "type": "system_command",
        "tool": "shell",
        "operation": "run",
        "command": "bash",
        "args": [
          "-c",
          "ps aux --sort=-{{sort_by}} | head -10"
        ]
      },
      "expected_output": {
        "type": "string",
        "example": "Top CPU consumers: node 23.4%, python 18.7%, java 12.3%"
      }
    }
  ],
  "stats": {
    "uses": 0,
    "successes": 0,
    "failures": 0,
    "success_rate": 0.0
  },
  "created_by": "neural_mesh_v5.2_generator"
}
