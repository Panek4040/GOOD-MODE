{
  "name": "tar_create_extract_compressed_archive",
  "description": "Create and extract tar archives with gzip/bzip2/xz compression",
  "pattern": "create.*archive|tar.*backup|extract.*tar",
  "parameters": ["archive_path", "source_dir", "operation"],
  "sequence": [
    {
      "action": {
        "type": "system_command",
        "tool": "shell",
        "operation": "run",
        "command": "bash",
        "args": ["-c", "du -sh '{{source_dir}}'"]
      },
      "expected_output": {
        "type": "string",
        "example": "2.4G\t{{source_dir}}"
      }
    },
    {
      "action": {
        "type": "system_command",
        "tool": "shell",
        "operation": "run",
        "command": "bash",
        "args": ["-c", "if [ '{{operation}}' = 'create' ]; then tar -czf '{{archive_path}}' -C '$(dirname {{source_dir}})' '$(basename {{source_dir}})'; elif [ '{{operation}}' = 'extract' ]; then tar -xzf '{{archive_path}}' -C /tmp/; elif [ '{{operation}}' = 'list' ]; then tar -tzf '{{archive_path}}' | head -20; fi"]
      },
      "expected_output": {
        "type": "string",
        "example": ""
      }
    },
    {
      "action": {
        "type": "system_command",
        "tool": "shell",
        "operation": "run",
        "command": "bash",
        "args": ["-c", "ls -lh '{{archive_path}}'"]
      },
      "expected_output": {
        "type": "string",
        "example": "-rw-r--r-- 1 user user 856M Nov 18 23:00 {{archive_path}}"
      }
    },
    {
      "action": {
        "type": "system_command",
        "tool": "shell",
        "operation": "run",
        "command": "bash",
        "args": ["-c", "tar -tzf '{{archive_path}}' | wc -l"]
      },
      "expected_output": {
        "type": "string",
        "example": "1247"
      }
    }
  ],
  "stats": {
    "uses": 0,
    "successes": 0,
    "failures": 0,
    "success_rate": 0.0
  },
  "created_by": "neural_mesh_v5.2_generator"
}
