{
  "name": "find_large_summary_stats",
  "description": "Generate statistics and summary for large files",
  "pattern": "statistics.*large|summary.*big.*files|aggregate.*size",
  "parameters": ["path", "min_size_mb", "limit"],
  "sequence": [
    {
      "action": {
        "type": "system_command",
        "tool": "shell",
        "operation": "run",
        "command": "bash",
        "args": ["-c", "find '{{path}}' -type f -size +{{min_size_mb}}M | wc -l"]
      },
      "expected_output": {
        "type": "string",
        "example": "342"
      }
    },
    {
      "action": {
        "type": "system_command",
        "tool": "shell",
        "operation": "run",
        "command": "bash",
        "args": ["-c", "find '{{path}}' -type f -size +{{min_size_mb}}M -printf '%s\\n' | awk '{sum+=$1; if(NR==1){min=max=$1} if($1<min){min=$1} if($1>max){max=$1}} END {print \"Total: \"sum; print \"Count: \"NR; print \"Avg: \"sum/NR; print \"Min: \"min; print \"Max: \"max}'"]
      },
      "expected_output": {
        "type": "string",
        "example": "Total: 54760833024\nCount: 342\nAvg: 160118520\nMin: 104857600\nMax: 2147483648"
      }
    },
    {
      "action": {
        "type": "system_command",
        "tool": "shell",
        "operation": "run",
        "command": "bash",
        "args": ["-c", "find '{{path}}' -type f -size +{{min_size_mb}}M -printf '%s|%p\\n' | sort -rn | head -n {{limit}}"]
      },
      "expected_output": {
        "type": "string",
        "example": "2147483648|/var/lib/mysql/ibdata1\n1073741824|/home/user/backup.tar.gz\n536870912|/opt/database/archive.sql\n314572800|/var/log/syslog.1"
      }
    },
    {
      "action": {
        "type": "system_command",
        "tool": "shell",
        "operation": "run",
        "command": "bash",
        "args": ["-c", "find '{{path}}' -type f -size +{{min_size_mb}}M -printf '%s\\n' | numfmt --to=iec | awk '{count[$1]++} END {for (size in count) print count[size]\" files of size ~\"size}' | sort -rn"]
      },
      "expected_output": {
        "type": "string",
        "example": "89 files of size ~100M\n45 files of size ~200M\n23 files of size ~500M\n12 files of size ~1.0G\n5 files of size ~2.0G"
      }
    }
  ],
  "stats": {
    "uses": 0,
    "successes": 0,
    "failures": 0,
    "success_rate": 0.0
  },
  "created_by": "claude_generated"
}
