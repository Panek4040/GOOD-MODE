{
  "name": "systemctl_reload_daemon_and_services",
  "description": "Reload systemd daemon after config changes, reload service configs without restart",
  "pattern": "reload.*daemon|reload.*service|systemctl.*daemon-reload",
  "parameters": ["service_name", "reload_type"],
  "sequence": [
    {
      "action": {
        "type": "system_command",
        "tool": "shell",
        "operation": "run",
        "command": "bash",
        "args": ["-c", "ls -l /etc/systemd/system/{{service_name}}.service"]
      },
      "expected_output": {
        "type": "string",
        "example": "-rw-r--r-- 1 root root 234 Nov 18 22:30 /etc/systemd/system/{{service_name}}.service"
      }
    },
    {
      "action": {
        "type": "system_command",
        "tool": "shell",
        "operation": "run",
        "command": "systemctl",
        "args": ["daemon-reload"]
      },
      "expected_output": {
        "type": "string",
        "example": ""
      }
    },
    {
      "action": {
        "type": "system_command",
        "tool": "shell",
        "operation": "run",
        "command": "bash",
        "args": ["-c", "if [ '{{reload_type}}' = 'reload' ]; then systemctl reload {{service_name}}; elif [ '{{reload_type}}' = 'reload-or-restart' ]; then systemctl reload-or-restart {{service_name}}; elif [ '{{reload_type}}' = 'try-restart' ]; then systemctl try-restart {{service_name}}; fi"]
      },
      "expected_output": {
        "type": "string",
        "example": ""
      }
    },
    {
      "action": {
        "type": "system_command",
        "tool": "shell",
        "operation": "run",
        "command": "systemctl",
        "args": ["status", "{{service_name}}", "--no-pager", "-l"]
      },
      "expected_output": {
        "type": "string",
        "example": "‚óè {{service_name}}.service\n   Loaded: loaded (/etc/systemd/system/{{service_name}}.service; enabled)\n   Active: active (running)\n   Main PID: 1234 (unchanged)"
      }
    }
  ],
  "stats": {
    "uses": 0,
    "successes": 0,
    "failures": 0,
    "success_rate": 0.0
  },
  "created_by": "neural_mesh_v5.2_generator"
}
