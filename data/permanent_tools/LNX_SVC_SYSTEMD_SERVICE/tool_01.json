{
  "name": "systemctl_start_stop_restart_service",
  "description": "Start, stop, restart systemd services and verify their running state",
  "pattern": "start.*service|stop.*service|restart.*systemctl",
  "parameters": ["service_name", "action"],
  "sequence": [
    {
      "action": {
        "type": "system_command",
        "tool": "shell",
        "operation": "run",
        "command": "systemctl",
        "args": ["status", "{{service_name}}"]
      },
      "expected_output": {
        "type": "string",
        "example": "● {{service_name}}.service - Web Server\n   Loaded: loaded (/lib/systemd/system/{{service_name}}.service; enabled)\n   Active: active (running) since Mon 2024-11-18 22:00:00"
      }
    },
    {
      "action": {
        "type": "system_command",
        "tool": "shell",
        "operation": "run",
        "command": "systemctl",
        "args": ["{{action}}", "{{service_name}}"]
      },
      "expected_output": {
        "type": "string",
        "example": ""
      }
    },
    {
      "action": {
        "type": "system_command",
        "tool": "shell",
        "operation": "run",
        "command": "systemctl",
        "args": ["is-active", "{{service_name}}"]
      },
      "expected_output": {
        "type": "string",
        "example": "active"
      }
    },
    {
      "action": {
        "type": "system_command",
        "tool": "shell",
        "operation": "run",
        "command": "systemctl",
        "args": ["status", "{{service_name}}", "--no-pager", "-l"]
      },
      "expected_output": {
        "type": "string",
        "example": "● {{service_name}}.service\n   Active: active (running)\n   Main PID: 1234 ({{service_name}})\n   Tasks: 4 (limit: 4915)\n   Memory: 12.3M\n   CGroup: /system.slice/{{service_name}}.service"
      }
    }
  ],
  "stats": {
    "uses": 0,
    "successes": 0,
    "failures": 0,
    "success_rate": 0.0
  },
  "created_by": "neural_mesh_v5.2_generator"
}
