{
  "name": "list_dir_pattern_match",
  "description": "List files matching specific pattern using find and grep",
  "pattern": "find.*pattern|search.*files.*name|filter.*files",
  "parameters": ["path", "pattern", "max_depth"],
  "sequence": [
    {
      "action": {
        "type": "system_command",
        "tool": "shell",
        "operation": "run",
        "command": "find",
        "args": ["{{path}}", "-maxdepth", "{{max_depth}}", "-type", "f", "-name", "{{pattern}}"]
      },
      "expected_output": {
        "type": "string",
        "example": "/var/log/nginx/access.log\n/var/log/nginx/error.log\n/var/log/apache2/access.log"
      }
    },
    {
      "action": {
        "type": "system_command",
        "tool": "shell",
        "operation": "run",
        "command": "find",
        "args": ["{{path}}", "-maxdepth", "{{max_depth}}", "-type", "f", "-name", "{{pattern}}", "-exec", "stat", "-c", "%n|%s|%y", "{}", ";"]
      },
      "expected_output": {
        "type": "string",
        "example": "/var/log/nginx/access.log|1048576|2025-11-18 08:30:22.456789012 +0000\n/var/log/nginx/error.log|524288|2025-11-18 08:29:15.123456789 +0000"
      }
    },
    {
      "action": {
        "type": "system_command",
        "tool": "shell",
        "operation": "run",
        "command": "find",
        "args": ["{{path}}", "-maxdepth", "{{max_depth}}", "-type", "f", "-name", "{{pattern}}", "-ls"]
      },
      "expected_output": {
        "type": "string",
        "example": "12345678    1024 -rw-r--r--   1 root     root      1048576 Nov 18 08:30 /var/log/nginx/access.log\n12345679     512 -rw-r--r--   1 root     root       524288 Nov 18 08:29 /var/log/nginx/error.log"
      }
    },
    {
      "action": {
        "type": "system_command",
        "tool": "shell",
        "operation": "run",
        "command": "find",
        "args": ["{{path}}", "-maxdepth", "{{max_depth}}", "-type", "f", "-name", "{{pattern}}", "-printf", "%p|%s|%TY-%Tm-%Td %TH:%TM:%TS\\n"]
      },
      "expected_output": {
        "type": "string",
        "example": "/var/log/nginx/access.log|1048576|2025-11-18 08:30:22.4567890120\n/var/log/nginx/error.log|524288|2025-11-18 08:29:15.1234567890"
      }
    }
  ],
  "stats": {
    "uses": 0,
    "successes": 0,
    "failures": 0,
    "success_rate": 0.0
  },
  "created_by": "claude_generated"
}
